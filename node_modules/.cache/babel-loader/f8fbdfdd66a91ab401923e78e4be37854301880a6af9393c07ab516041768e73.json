{"ast":null,"code":"import axios from 'axios';\nconst REACT_APP_BACKEND_PROXY = process.env.REACT_APP_BACKEND_PROXY;\nconsole.log('proxy', REACT_APP_BACKEND_PROXY);\nconst api = axios.create({\n  baseURL: `${REACT_APP_BACKEND_PROXY}`,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\napi.interceptors.request.use(request => {\n  console.log(\"Starting Request\", request);\n  const token = sessionStorage.getItem(\"token\");\n  if (token) {\n    request.headers.authorization = `Bearer ${token}`;\n  }\n  return request;\n}, error => {\n  console.log('request ERROR', error);\n  return Promise.reject(error);\n});\napi.interceptors.response.use(response => {\n  return response;\n}, error => {\n  const errData = error.response ? error.response.data : error;\n  console.log('response ERROR', errData);\n  return Promise.reject(errData);\n});\nexport default api;","map":{"version":3,"names":["axios","REACT_APP_BACKEND_PROXY","process","env","console","log","api","create","baseURL","headers","interceptors","request","use","token","sessionStorage","getItem","authorization","error","Promise","reject","response","errData","data"],"sources":["/Users/jiylee/Desktop/Code/church/church_bible/churchBible/src/utils/api.js"],"sourcesContent":["import axios from 'axios'\nconst REACT_APP_BACKEND_PROXY=process.env.REACT_APP_BACKEND_PROXY;\nconsole.log('proxy',REACT_APP_BACKEND_PROXY)\n\nconst api = axios.create({\n  baseURL:`${REACT_APP_BACKEND_PROXY}`,\n  headers:{\n    \"Content-Type\":\"application/json\"\n  },\n});\n\napi.interceptors.request.use(\n  (request)=>{\n    console.log(\"Starting Request\",request);\n    const token = sessionStorage.getItem(\"token\")\n    if(token){\n      request.headers.authorization = `Bearer ${token}`;\n    }\n    return request;\n  },\n  (error)=>{\n    console.log('request ERROR',error)\n    return Promise.reject(error)\n  }\n)\n\n\napi.interceptors.response.use(\n  (response)=>{\n    return response\n  },\n  (error)=>{\n    const errData = error.response ? error.response.data : error;\n    console.log('response ERROR',errData);\n    return Promise.reject(errData);\n  }\n)\n\n\nexport default api;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,MAAMC,uBAAuB,GAACC,OAAO,CAACC,GAAG,CAACF,uBAAuB;AACjEG,OAAO,CAACC,GAAG,CAAC,OAAO,EAACJ,uBAAuB,CAAC;AAE5C,MAAMK,GAAG,GAAGN,KAAK,CAACO,MAAM,CAAC;EACvBC,OAAO,EAAE,GAAEP,uBAAwB,EAAC;EACpCQ,OAAO,EAAC;IACN,cAAc,EAAC;EACjB;AACF,CAAC,CAAC;AAEFH,GAAG,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CACzBD,OAAO,IAAG;EACTP,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAACM,OAAO,CAAC;EACvC,MAAME,KAAK,GAAGC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC;EAC7C,IAAGF,KAAK,EAAC;IACPF,OAAO,CAACF,OAAO,CAACO,aAAa,GAAI,UAASH,KAAM,EAAC;EACnD;EACA,OAAOF,OAAO;AAChB,CAAC,EACAM,KAAK,IAAG;EACPb,OAAO,CAACC,GAAG,CAAC,eAAe,EAACY,KAAK,CAAC;EAClC,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;AAGDX,GAAG,CAACI,YAAY,CAACU,QAAQ,CAACR,GAAG,CAC1BQ,QAAQ,IAAG;EACV,OAAOA,QAAQ;AACjB,CAAC,EACAH,KAAK,IAAG;EACP,MAAMI,OAAO,GAAGJ,KAAK,CAACG,QAAQ,GAAGH,KAAK,CAACG,QAAQ,CAACE,IAAI,GAAGL,KAAK;EAC5Db,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAACgB,OAAO,CAAC;EACrC,OAAOH,OAAO,CAACC,MAAM,CAACE,OAAO,CAAC;AAChC,CACF,CAAC;AAGD,eAAef,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}